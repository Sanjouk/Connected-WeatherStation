<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Smart Home Control{% endblock %}</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ["Inter", "sans-serif"] },
            colors: {
              primary: "#059669",
              secondary: "#34D399",
              danger: "#EF4444",
              // Define a neutral color for background
              neutral_bg: "#F0FDF4",
            },
          },
        },
      };
    </script>

    <style>
      body {
        font-family: 'Inter', sans-serif;
        /* Using the neutral_bg color defined in tailwind config */
        background-color: theme('colors.neutral_bg');
      }

      .metric-card {
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .metric-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
                    0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      /* Motion alert animation (Keeping it here as it's general styling) */
      .motion-active {
        animation: pulse-red 1.5s infinite;
      }

      @keyframes pulse-red {
        0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
        50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
      }
    </style>

    {% block head_extra %}{% endblock %}

  </head>

  <body class="min-h-screen">
    <div
      id="main-container"
      class="w-full max-w-5xl mx-auto p-4 sm:p-8"
    >
      <header class="text-center mb-6">
          <a href="{{ url_for('index') }}">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-primary mb-1">
              Smart Home Control
            </h1>
          </a>
      </header>

      <nav class="bg-white p-3 rounded-xl shadow-lg mb-8 border-t-4 border-primary">
          <ul class="flex justify-center space-x-4 sm:space-x-8 text-sm sm:text-base font-semibold">
              <li>
                  <a href="{{ url_for('dashboard') }}" class="py-2 px-3 rounded-lg transition-colors
                     {% if request.endpoint == 'dashboard' %}bg-primary text-white shadow-md{% else %}text-gray-600 hover:bg-gray-100 hover:text-primary{% endif %}">
                      Telemetry
                  </a>
              </li>
              <li>
                  <a href="{{ url_for('settings') }}" class="py-2 px-3 rounded-lg transition-colors
                     {% if request.endpoint == 'settings' %}bg-primary text-white shadow-md{% else %}text-gray-600 hover:bg-gray-100 hover:text-primary{% endif %}">
                      Settings
                  </a>
              </li>
              <li>
                  <a href="{{ url_for('governance') }}" class="py-2 px-3 rounded-lg transition-colors
                     {% if request.endpoint == 'governance' %}bg-primary text-white shadow-md{% else %}text-gray-600 hover:bg-gray-100 hover:text-primary{% endif %}">
                      Governance
                  </a>
              </li>
              <li>
                  <a href="{{ url_for('telemetry_table') }}" class="py-2 px-3 rounded-lg transition-colors
                     {% if request.endpoint == 'telemetry_table' %}bg-primary text-white shadow-md{% else %}text-gray-600 hover:bg-gray-100 hover:text-primary{% endif %}">
                      Telemetry Table
                  </a>
              </li>
          </ul>
      </nav>
      <main class="bg-white p-8 rounded-2xl shadow-2xl">
          {% block content %}{% endblock %}
      </main>

    </div>
  </body>
</html>